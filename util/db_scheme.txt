
TABLE Rooms:
-id - UUID - NotNull - PK
-price - numeric(10, 2) - NotNull
-floor - integer - NotNull
-room_number - varchar(10) - NotNull
-bathroom_type - enum - NotNull

TABLE Beds:
-id - UUID - NotNull - PK
-bed_size - varchar(20) - NotNull
-capacity - integer - NotNull

TABLE RoomsBeds:
-bed_id - PK - FK - NotNull
-room_id - PK - FK - NotNull

TABLE Bookings:
-id - UUID - NotNull - PK
-room_id - UUID - NotNull - FK
-user_id - UUID - NotNull - FK
-start_date - LocalDate - NotNull
-end_date - LocalDate - NotNull
-total_price - numeric - NotNull

TABLE Guests:
-id - UUID - NotNull - PK
-first_name - varchar(20) - NotNull
-last_name - varchar(20) - NotNull
-phone_number - varchar(15) - NotNull
-ID_card_number - varchar(10) - NotNull
-ID_card_validity - LocalDate - NotNull
-ID_card_issue_authority - varchar(20) - NotNull
-ID_card_issue_date - LocalDate - NotNull
-birthdate - LocalDate - NotNull

TABLE BookingsGuests:
-guest_id - PK - FK - NotNull
-booking_id - PK - FK - NotNull

TABLE Users:
-id - UUID - NotNull - PK
-email - varchar(20) - NotNull
-password - varchar(20) - NotNull
-fist_name - varchar(20) - NotNull
-last_name - varchar(20) - NotNull
-phone_number - varchar(20) - NotNull
-birthdate - LocalDate - NotNull

+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

--hotel db sql query


--hotel db sql query

CREATE TYPE bathroom_type_enum AS ENUM ('private', 'shared');

CREATE TABLE rooms (
    id UUID NOT NULL PRIMARY KEY,
	price NUMERIC(10, 2) NOT NULL,
	floor INTEGER NOT NULL,
	room_number VARCHAR(10) NOT NULL,
	bathroom_type bathroom_type_enum NOT NULL
);


CREATE TYPE bed_size_enum AS ENUM ('single', 'smallDouble', 'double', 'kingSize', 'queenSize');

CREATE TABLE beds (
    id UUID NOT NULL PRIMARY KEY,
    bed_size bed_size_enum NOT NULL,
    capacity INTEGER NOT NULL
);

CREATE TABLE rooms_beds (
    bed_id UUID NOT NULL,
    room_id UUID NOT NULL,
    PRIMARY KEY (bed_id, room_id),
    FOREIGN KEY (bed_id) REFERENCES beds(id),
    FOREIGN KEY (room_id) REFERENCES rooms(id)
);

CREATE TABLE users (
    id UUID NOT NULL PRIMARY KEY,
    email VARCHAR(50) NOT NULL,
    password VARCHAR(20) NOT NULL, -- TODO? "password"
    first_name VARCHAR(20) NOT NULL,
    last_name VARCHAR(20) NOT NULL,
    phone_number VARCHAR(20) NOT NULL,
    birthdate DATE NOT NULL
);

CREATE TABLE bookings (
    id UUID NOT NULL PRIMARY KEY,
    room_id UUID NOT NULL,
    user_id UUID NOT NULL,
    start_date DATE NOT NULL,
    end_date DATE NOT NULL,
    total_price NUMERIC NOT NULL,
    FOREIGN KEY (room_id) REFERENCES rooms(id),
    FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE TABLE guests (
    id UUID NOT NULL PRIMARY KEY,
    first_name VARCHAR(20) NOT NULL,
    last_name VARCHAR(20) NOT NULL,
    phone_number VARCHAR(15) NOT NULL,
    ID_card_number VARCHAR(10) NOT NULL,
    ID_card_validity DATE NOT NULL,
    ID_card_issue_authority VARCHAR(20) NOT NULL,
    ID_card_issue_date DATE NOT NULL,
    birthdate DATE NOT NULL
);

CREATE TABLE bookings_guests (
    guest_id UUID NOT NULL,
    booking_id UUID NOT NULL,
    PRIMARY KEY (guest_id, booking_id),
    FOREIGN KEY (guest_id) REFERENCES guests(id),
    FOREIGN KEY (booking_id) REFERENCES bookings(id)
);

